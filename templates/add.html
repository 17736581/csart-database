{% extends "layout.html" %}

{% block head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        var author_count = 1;
        var wrapper = $("#container1");
        var add_button = $("#add_form_field");

        var x = 1;
        $(add_button).click(function(e) {
            e.preventDefault();
            x++;
            $(wrapper).append(`<div class="form-group"><div class="input-group"><input class="form-control" type="text" name="author${author_count}" placeholder="Author"/><button class="btn btn-outline-danger" href="#" id="delete">Delete</button></div></div>`); //add input box
            author_count++;
        });

        $(wrapper).on("click", "#delete", function(e) {
            e.preventDefault();
            $(this).parent('div').remove();
            x--;
        })
    });
</script>
{% endblock %}

{% block title %}
    Add Projects
{% endblock %}

{% block main %}
<form action="/add" method="post">
    <div class="form-group">
        <input class="form-control" id="project_name" name="project_name" type="text" placeholder="Project Name">
    </div>
    <div class="form-group" id="container1">
        <div class="form-group">
            <div class="input-group">
                <input class="form-control" type="text" name="author0" placeholder="Author">
                <button class="btn btn-outline-secondary" id="add_form_field">Add Author
                    <span style="font-size:16px; font-weight:bold;">+ </span>
                </button>
            </div>
        </div>
    </div>
    <div class="form-group">
        <input class="form-control" id="url" name="url" type="text" placeholder="URL">
    </div>
    <div class="form-group">
        <label for="start_date">Start Date</label>
        <input class="form-control" id="start_date" name="start_date" type="date" title="Start Date">
    </div>
    <div class="form-group">
        <label for="end_date">End Date</label>
        <input class="form-control" id="end_date" name="end_date" type="date" placeholder="End Date">
    </div>
    
    <div class="form-group">
        <label for="release_date">Release Date</label>
        <input class="form-control" id="release_date" name="release_date" type="date" placeholder="Release Date">
    </div>
    <div class="form-group">
        <input class="form-control" id="country" name="country" type="text" placeholder="Country">
    </div>
    <div class="form-group">
        <input class="form-control" id="funding_org" name="funding_org" type="text" placeholder="Funding Source">
    </div>
    <div class="form-group">
        <input class="form-control" id="funding_amount" name="funding_amount" type="number" placeholder="Funding Amount">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>
{% endblock %}